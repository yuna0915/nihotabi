<div class="container my-5">

  <div class="d-flex justify-content-center">
    <div style="max-width: 880px; width: 100%;">

      <!-- 投稿の共通詳細 -->
      <%= render partial: 'public/posts/post_detail', locals: { post: @post } %>

      <!-- コメント一覧 -->
      <hr>
      <h3 class="text-center mt-5 mb-4">コメント一覧（<%= @comments.count %>件）</h3>

      <% if @comments.any? %>
        <% @comments.each do |comment| %>
          <div class="border rounded p-3 mb-3">
            <p><strong><%= comment.user.nickname %></strong>（<%= comment.created_at.strftime("%Y/%m/%d %H:%M") %>）</p>
            <p><%= simple_format(comment.body) %></p>
          </div>
        <% end %>
      <% else %>
        <p class="text-center text-muted">まだコメントはありません。</p>
      <% end %>

      <!-- 投稿削除ボタン -->
      <div class="text-center mt-5">
        <%= link_to "投稿を削除", admin_post_path(@post),
                    method: :delete,
                    data: { confirm: "本当に削除しますか？" },
                    class: "custom-red-btn" %>
      </div>

    </div>
  </div>

</div>
