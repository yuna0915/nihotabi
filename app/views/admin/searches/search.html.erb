<h2>検索結果</h2>

<% if @results.present? %>
  <div class="table-responsive mt-3">
    <table class="table table-striped table-bordered align-middle">
      <thead class="table-light">
        <% if @model == "user" %>
          <tr>
            <th>ID</th>
            <th>ユーザー名</th>
            <th>メールアドレス</th>
            <th>登録日</th>
          </tr>
        <% elsif @model == "post" %>
          <tr>
            <th>ID</th>
            <th>タイトル</th>
            <th>投稿者</th>
            <th>投稿日</th>
            <th>内容</th>
          </tr>
        <% elsif @model == "comment" %>
          <tr>
            <th>ID</th>
            <th>コメント内容</th>
            <th>投稿タイトル</th>
            <th>コメント者</th>
            <th>コメント日</th>
          </tr>
        <% end %>
      </thead>
      <tbody>
        <% @results.each do |result| %>
          <% if @model == "user" %>
            <tr>
              <td><%= result.id %></td>
              <td><%= link_to result.nickname, admin_user_path(result), class: "text-decoration-none" %></td>
              <td><%= result.email %></td>
              <td><%= result.created_at.strftime("%Y/%m/%d") %></td>
            </tr>
          <% elsif @model == "post" %>
            <tr>
              <td><%= result.id %></td>
              <td><%= link_to result.title, admin_post_path(result), class: "text-decoration-none" %></td>
              <td><%= link_to result.user.nickname, admin_user_path(result.user), class: "text-decoration-none" %></td>
              <td><%= result.created_at.strftime("%Y/%m/%d %H:%M") %></td>
              <td><%= truncate(result.body, length: 60) %></td>
            </tr>
          <% elsif @model == "comment" %>
            <tr>
              <td><%= result.id %></td>
              <td><%= truncate(result.body, length: 60) %></td>
              <td><%= link_to result.post.title, admin_post_path(result.post), class: "text-decoration-none" %></td>
              <td><%= link_to result.user.nickname, admin_user_path(result.user), class: "text-decoration-none" %></td>
              <td><%= result.created_at.strftime("%Y/%m/%d %H:%M") %></td>
            </tr>
          <% end %>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <p>一致する結果が見つかりませんでした。</p>
<% end %>
